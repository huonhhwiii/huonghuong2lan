-- Table GIASU
CREATE TABLE GIASU (
    MaGS CHAR(7) PRIMARY KEY,
    HoTen NVARCHAR(40) NOT NULL,
    SoDT CHAR(10) NOT NULL,
    BangCap NVARCHAR(50),
    MonDay NVARCHAR(100),
    KinhNghiem NVARCHAR(255),
    CONSTRAINT CK_GIASU_SoDT CHECK (
        SoDT REGEXP '^0[0-9]{9}$'
    )
);

-- Table PHUHUYNH
CREATE TABLE PHUHUYNH (
    MaPH CHAR(7) PRIMARY KEY,
    HoTen NVARCHAR(40) NOT NULL,
    SoDT CHAR(10) NOT NULL,
    DiaChi NVARCHAR(100),
    YeuCau NVARCHAR(255),
    CONSTRAINT CK_PHUHUYNH_SoDT CHECK (
        SoDT REGEXP '^0[0-9]{9}$'
    )
);

-- Table GIAODICH
CREATE TABLE GIAODICH (
    MaGD CHAR(8) PRIMARY KEY,
    NgayGD DATETIME,
    PhiGS DECIMAL(10,2),
    PhiPH DECIMAL(10,2),
    MaPH CHAR(7) NOT NULL,
    MaGS CHAR(7) NOT NULL,
    FOREIGN KEY (MaPH) REFERENCES PHUHUYNH(MaPH),
    FOREIGN KEY (MaGS) REFERENCES GIASU(MaGS)
);


-- Table LOPHOC
CREATE TABLE LOPHOC (
    MaLop CHAR(8) PRIMARY KEY,
    MonHoc NVARCHAR(50) NOT NULL,
    CapHoc NVARCHAR(20),
    LichHoc DATETIME,
    DiaDiem NVARCHAR(100),
    MaGD CHAR(8) NOT NULL,
    FOREIGN KEY (MaGD) REFERENCES GIAODICH(MaGD)
);